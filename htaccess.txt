# htaccess.txt .htaccess-template for Clansuite
# SVN: $Id$

# (1) Rename "htaccess.txt" to ".htaccess"
# (2) If you don't need htaccess, then DELETE IT. It just slow's down Webserver processing.
# (3) Redirect all Requests to the domain (http://www.domain.xy) to index.php

DirectoryIndex index.php

# (4) General and PHP.ini Settings
SetEnv    TZ                    Europe/Berlin
<IfModule mod_php5.c>
php_value magic_quotes_runtime  "0"
php_value magic_quotes_gpc      "0"
php_value register_globals      "Off"
php_value output_buffering      "1"

# (5) For safety reasons you should disable the following php functions:

# php_admin_value disable_functions "exec, system, passthru, shell_exec, suexec, dbmopen, popen, proc_open, escapeshellcmd, escapeshellarg"
</IfModule>

# (6) Apache2 with "LoadModule mod_deflate"
#     for output compression of the following specific file-content-types:

<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css application/x-javascript
</IfModule>

# (7) Apache2 with "LoadModule mod_rewrite"
#     for Rewrite Engine and Rewrite Rules (for Apache)

<IfModule mod_rewrite.c>

# (7a) Turn Rewrite Engine on

       #RewriteEngine on

# (7b) Set the Base for the Rewrite Engine (which is the path to your /Clansuite Directory)
#      Examples:
#      RewriteBase /YourClansuiteDirectory
#      RewriteBase /

        #RewriteBase /

#  (7c) Rewrite Rules

        #RewriteCond %{REQUEST_FILENAME} !\.(jpg|jpeg|gif|png|css|js|pl|txt)$
        #RewriteCond %{REQUEST_FILENAME} !-f
        #RewriteCond %{REQUEST_FILENAME} !-d

# route all non-ressource/file/dir requests to index.php

        #RewriteRule ^(.*).(.*)? index.php?mod=$1&action=$2

</IfModule>

# (8) Apache2 with "LoadModule mod_expires"
#     Removed Etag + Smaller Header for image, javascript, css files with cache lifetime 1 year+

<IfModule mod_expires.c>
    <filesmatch "\.(jpg|gif|png|css|js)$">
    ExpiresActive on
    ExpiresDefault "access plus 1 year"
    </filesmatch>
</IfModule>

# (9) Apache2 with "LoadModule mod_headers"
#     Turns off ETags (check for newer version of file)
#     Forces webbrowser to rely on Cache-Control and Expires headers

<IfModule mod_headers.c>
    Header unset ETag
    Header unset Last-Modified
</IfModule>
FileETag None

# (10) Apache2 with "LoadModule mod_gzip"
#     Compresses your Content

<IfModule mod_gzip.c>
  mod_gzip_on Yes
  mod_gzip_dechunk Yes
  mod_gzip_item_include file \.(html?|txt|css|js|php|pl|jpg|png|gif)$
  mod_gzip_item_include handler ^cgi-script$
  mod_gzip_item_include mime ^text/.*
  mod_gzip_item_include mime ^application/x-javascript.*
  mod_gzip_item_exclude mime ^image/.*
  mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
</IfModule>